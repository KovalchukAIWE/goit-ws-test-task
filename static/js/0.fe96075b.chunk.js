"use strict";(self.webpackChunkgoit_ws_test_task=self.webpackChunkgoit_ws_test_task||[]).push([[0],{199:(a,e,s)=>{s.r(e),s.d(e,{default:()=>V});var d=s(43),t=s(3),l=s(99);const c=a=>a.adverts,o=(0,l.Mz)([c],(a=>a.items)),i=(0,l.Mz)([c],(a=>a.isLoading)),r=(0,l.Mz)([c],(a=>a.error));var n=s(215),m=s(184);const _=s.p+"static/media/no-image.3f37e96d8d04d1e67452.jpg",p="Card_card__KR-I+",v="Card_cardImageWrapper__lJZaX",g="Card_cardImage__ujt5y",x="Card_cardTop__oy5xI",j="Card_cardTitle__dXBF2",h="Card_cardName__WMuW1",u="Card_cardPrice__FBDdh",f="Card_cardRating__9qRot",N="Card_cardRatingWrapper__Y5Iuj",b="Card_cardReviews__fcK1Y",C="Card_cardLocationWrapper__q1MWz",M="Card_cardLocation__AfHLe",w="Card_cardDescription__dBOmT",B="Card_cardCategories__Fh2yv",k="Button_button__3MSTt";var y=s(579);const R=a=>{let{onClick:e,text:s}=a;return(0,y.jsx)("button",{onClick:e,className:k,children:s})},L="Category_category__CMUty",I="Category_categoryValue__5k4IA",W="Category_categoryIcon__MEeMX";const T=s.p+"static/media/shower.35fa6f2bc37434182fa4af73e191cec7.svg";const E={shower:T,kitchen:s.p+"static/media/kitchen.7eeabb75af79a9dbcebbbe6fdf261b2d.svg",airConditioner:s.p+"static/media/airConditioner.cf9af972166558c6a569e25f672a196e.svg",adults:s.p+"static/media/adults.05dd4091025b9df02791c9e10c7ed096.svg",beds:s.p+"static/media/beds.c8300f838a7e4353d5359e1dbd95e56f.svg",TV:s.p+"static/media/tv.f0520bf3f91bdbf212fcd30d65725d9a.svg",CD:s.p+"static/media/cd.db1e4c3317c6d3212090407313f51f55.svg",radio:s.p+"static/media/radio.72d8853b3a4f361a9753d781f987d44b.svg",toilet:s.p+"static/media/toilet.60dd3da9899d2b9d07a9328d29020a82.svg",freezer:s.p+"static/media/freezer.cc3b504ec8e74c63e7db444cce329b81.svg",hob:s.p+"static/media/hob.e33599c331a78670947fc067827f3ba8.svg",microwave:s.p+"static/media/microwave.f7c15aa48dfb61a027514d0da3f6c169.svg",gas:s.p+"static/media/gas.92cd662fc3c3333d783c349e73d0ddf1.svg",water:s.p+"static/media/water.649ccc3d473c87ae5c8a3a479df39b57.svg",bathroom:T},O=a=>{let{details:e}=a;return e&&Object.entries(e).map((a=>{let[e,s]=a;return s>1?(0,y.jsxs)("div",{className:L,children:[(0,y.jsx)("img",{src:E[e],alt:e,className:W}),(0,y.jsx)("span",{className:I,children:s}),e]},e):1===s?(0,y.jsxs)("div",{className:L,children:[(0,y.jsx)("img",{src:E[e],alt:e,className:W}),e]},e):null}))};const S=s.p+"static/media/rating.c2ae40ef3216365e53fa34928bb928f3.svg";const F=s.p+"static/media/map-pin.16b230efebd824a26e5558d49e3d3bfc.svg",q=a=>{let{advert:e,onShowMore:s}=a;const{gallery:d,name:t,price:l,rating:c,reviews:o,location:i,description:r,details:n}=e;return(0,y.jsxs)("li",{className:p,children:[(0,y.jsx)("div",{className:v,children:(0,y.jsx)("img",{src:d?d[0]:_,alt:t,className:g})}),(0,y.jsxs)("div",{className:x,children:[(0,y.jsxs)("div",{className:j,children:[(0,y.jsx)("p",{className:h,children:t}),(0,y.jsxs)("p",{className:u,children:["\u20ac",l]})]}),(0,y.jsxs)("div",{className:N,children:[(0,y.jsxs)("div",{className:f,children:[(0,y.jsx)("img",{src:S,alt:"rating"}),(0,y.jsxs)("p",{className:b,children:[c,"(",o.length," Reviews)"]})]}),(0,y.jsxs)("div",{className:C,children:[(0,y.jsx)("img",{src:F,alt:"location"}),(0,y.jsx)("p",{className:M,children:i})]})]}),(0,y.jsx)("p",{className:w,children:r}),(0,y.jsx)("div",{className:B,children:(0,y.jsx)(O,{details:n})}),(0,y.jsx)(R,{onClick:()=>s(e),text:"Show more"})]})]})},z="ButtonLoadMore_button__q+69C",A=a=>{let{onClick:e,text:s}=a;return(0,y.jsx)("button",{onClick:e,className:z,children:s})},D="AdvertsList_advertsListButton__IhYdn",P={modalOverlay:"Modal_modalOverlay__f00Ec",modal:"Modal_modal__Cp3n8",modalTop:"Modal_modalTop__onyFn",modalMiddle:"Modal_modalMiddle__+lfb1",modalName:"Modal_modalName__8YEU+",modalPrice:"Modal_modalPrice__3CpFQ",modalRating:"Modal_modalRating__uM7uU",modalRatingWrapper:"Modal_modalRatingWrapper__T2oqs",modalReviews:"Modal_modalReviews__XN8Rn",modalLocationWrapper:"Modal_modalLocationWrapper__eOU9p",modalLocation:"Modal_modalLocation__mCovF",modalButtonClose:"Modal_modalButtonClose__evDZ7",modalGallery:"Modal_modalGallery__TgSii",modalImages:"Modal_modalImages__s6B8u",modalImage:"Modal_modalImage__RI18e",modalBottomButtons:"Modal_modalBottomButtons__X-vht",modalBottomButton:"Modal_modalBottomButton__0Bmmw"};const X=s.p+"static/media/close-button.25dc3f46a342a188874fa545ced03ca2.svg",U="ButtonModal_button__qA6Ln",Y=a=>{let{onClick:e,text:s}=a;return(0,y.jsx)("button",{onClick:e,className:U,children:s})},G=a=>{let{isOpen:e,onClose:s,advert:t}=a;if((0,d.useEffect)((()=>{const a=a=>{"Escape"===a.key&&s()};return document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}}),[s]),!e||!t)return null;const{gallery:l,name:c,price:o,rating:i,reviews:r,location:n,description:m}=t;return(0,y.jsx)("div",{className:P.modalOverlay,onClick:s,children:(0,y.jsxs)("div",{className:P.modal,onClick:a=>a.stopPropagation(),children:[(0,y.jsx)("button",{className:P.modalButtonClose,onClick:s,children:(0,y.jsx)("img",{src:X,alt:"close"})}),(0,y.jsxs)("div",{className:P.modalTop,children:[(0,y.jsx)("p",{className:P.modalName,children:c}),(0,y.jsxs)("div",{className:P.modalRatingWrapper,children:[(0,y.jsxs)("div",{className:P.modalRating,children:[(0,y.jsx)("img",{src:S,alt:"rating"}),(0,y.jsxs)("p",{className:P.modalReviews,children:[i,"(",r.length," Reviews)"]})]}),(0,y.jsxs)("div",{className:P.modalLocationWrapper,children:[(0,y.jsx)("img",{src:F,alt:"location"}),(0,y.jsx)("p",{className:P.modalLocation,children:n})]})]}),(0,y.jsxs)("p",{className:P.modalPrice,children:["\u20ac",o]})]}),(0,y.jsxs)("div",{className:P.modalMiddle,children:[(0,y.jsx)("div",{className:P.modalGallery,children:l.map(((a,e)=>(0,y.jsx)("div",{className:P.modalImages,children:(0,y.jsx)("img",{src:a||_,alt:"{index + 1}",className:P.modalImage})},e)))}),(0,y.jsx)("p",{className:P.modalDescription,children:m})]}),(0,y.jsx)("div",{className:P.modalBottom,children:(0,y.jsxs)("div",{className:P.modalBottomButtons,children:[(0,y.jsx)("div",{className:P.modalBottomButton,children:(0,y.jsx)(Y,{text:"Features"})}),(0,y.jsx)(Y,{text:"Reviews"})]})})]})})},K=()=>{const a=(0,t.wA)(),e=(0,t.d4)(i),s=(0,t.d4)(r),l=(0,t.d4)(o),[c,_]=(0,d.useState)([]),[p,v]=(0,d.useState)(1),[g,x]=(0,d.useState)(null);(0,d.useEffect)((()=>{a((0,n.q)())}),[a]),(0,d.useEffect)((()=>{const a=4*(p-1)+4;_(l.slice(0,a))}),[l,p,4]);const j=a=>{x(a)};return e&&!s?(0,y.jsx)(m.A,{}):s?(0,y.jsx)("p",{children:s}):(0,y.jsxs)("div",{children:[(0,y.jsx)("ul",{children:c.map((a=>(0,y.jsx)(q,{advert:a,onShowMore:j},a._id)))}),(0,y.jsx)("div",{className:D,children:c.length<l.length&&(0,y.jsx)(A,{onClick:()=>{v((a=>a+1))},text:"Load more"})}),(0,y.jsx)(G,{isOpen:!!g,onClose:()=>{x(null)},advert:g})]})},V=()=>(0,y.jsx)(K,{})}}]);
//# sourceMappingURL=0.fe96075b.chunk.js.map